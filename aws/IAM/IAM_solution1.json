[
    {
        "Version" : "2012-10-17",
        "Statement": [
            {
                "Sid": " 1. Restrict S3 Bucket Access To Specific EC2 Instance",
                "Effect": "Allow",
                "Principal": {
                    "AWS": "arn:aws:ec2:region:account-id:instance/instance-id"
                },
                "Action": "s3:*",
                "Resource": [
                    "arn:aws:s3:::bucket-name",
                    "arn:aws:s3:::bucket-name/*"
                ]
            }
        ]
    }
    ,
    {
        "Version" : "2012-10-17",
        "Statement": [
            {
                "Sid": "2. Deny All EC2 Actions Exceptn RunInstances",
                "Effect": "Deny",
                "Action": "ec2:*",
                "NotAction": "ec2:RunInstances",
                "Resource": "*"
            }
        ]
    }
    ,
    {
        "Version" : "2012-10-17",
        "Statement": [
            {
                "Sid": "3. Denies any AWS actions if they are not performed within the us-east-1",
                "Effect": "Deny",
                "Action": "*",
                "Resource": "*",
                "Condition":{
                    "StringNotEquals": {
                        "aws:RequestedRegion": "us-east-1"
                    }
                }
            }
        ]
    }
    ,
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "4. Require At Least One Tag",
                "Effect": "Deny",
                "Action": "*",
                "Resource": "*",
                "Condition": {
                    "Null": {
                        "aws:RequestTag/*": "true"
                    }
                }
            }
        ]
    }
    ,
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "5. Allows users to perform specific actions on EC2 instances based on tags",
                "Effect": "Allow",
                "Action": [
                    "ec2:StartInstances",
                    "ec2:StopInstances"
                ],
                "Resource": "*",
                "Condition": {
                    "StringEquals": {
                        "ec2:ResourceTag/Environment": "Development"
                    }
                }
            }
        ]
    }
    ,
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "6. Grant read-only access to a specific S3 bucket for a particular IAM user",
                "Effect": "Allow",
                "Principal": {
                    "AWS": "arn:aws:iam::account-id:userID/username"
                },
                "Action": [
                    "s3:GetObject",
                    "s3:GetObjectVersion",
                    "s3:GetBucketLocation",
                    "s3:ListBucket"
                ],
                "Resource": [
                    "arn:aws:s3:::bucket-name/*",
                    "arn:aws:s3:::bucket-name"
                ]
                
            },
            {
                "Sid": "6. Deny write or delete actions on the specified S3 bucket",
                "Effect": "Deny",
                "Principal": {
                    "AWS": "arn:aws:iam::account-id:userID/username"
                },
                "Action": [
                    "s3:PutObject",
                    "s3:DeleteObject",
                    "s3:PutObjectAcl",
                    "s3:DeleteObjectVersion",
                    "s3:DeleteObjectTagging",
                    "s3:PutObjectTagging"
                ],
                "Resource": "arn:aws:s3:::bucket-name/*"
            }
        ]
    }
    ,
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "7. Allows certain actions only during specific time window",
                "Effect": "Allow",
                "Action": "ec2:TerminateInstances",
                "Condition": {
                    "DateGreaterThan": {
                        "aws:CurrentTime": "2024-03-09T09:00:00Z" 
                    },
                    "DateLessThan": {
                        "aws:CurrentTime": "2024-07-22T17:00:00Z"
                    }
                }
            }
        ]
    }
    ,
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "8. Allows access to AWS resources based on the IP address of the requesting entity",
                "Effect": "Allow",
                "Action": "*",
                "Resource": "*",
                "Condition": {
                    "IpAddress": {
                        "aws:SourceIp": "10.1.0.0/16"  
                    }
                }
            }
        ]
    }
    ,
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "9. Allows users to assume the role only if multi-factor authentication (MFA) is enabled",
                "Effect": "Allow",
                "Action": "sts:AssumeRole",
                "Condition": {
                    "Bool": {
                        "aws:MultiFactorAuthPresent": "true"  
                    }
                }
            }
        ]
    }
    ,
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "10. Allows cross-account access to specific resources",
                "Effect": "Allow",
                "Principal": {
                    "AWS": "arn:aws:iam::accID:root"
                },
                "Action": "s3:GetObject",
                "Resource": "arn:aws:s3:::example-bucket/*",
                "Condition": {
                    "StringEquals": {
                        "aws:SourceAccount": "src-accID"
                    }
                }
            }
        ]
    }
]
    
    